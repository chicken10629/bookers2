

<nav>
<% if @book.errors.any? %>
  <div class="error_messages">
    <ul>
     <% @book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
     <% end %>
    </ul>
  </div>
<% end %>
<h2>user info</h2>
<%# あとで画像取得を作る <p><%= user.get_image %></p>
<p>Name</p> 
<p><%= user.name %></p>
<p>Introduction</p>
<p><%= user.introduction %></p>
<p>
  <% if book.user_id == current_user.id %>
    <%= link_to 'edit', edit_user_path(user.id) %>
  <% else %>
    <%= link_to 'edit', user_path(current_user.id) %>
  <% end %>
</p>
<%# クリエイトは必ず自分のid、表示ユーザーidはusers/showから取ってくる %>
<h2>New book</h2>
<%= form_with model: book, local: true do |f| %>
  <h4>title</h4>
  <%= f.text_field :title %>
  <h4>Opinion</h4>
  <%= f.text_area :body %>
  <%= f.submit 'Create Book' %>
<% end %>
</nav>
<%# before_actionで必要なインスタンス変数を取ってきて、こちらでローカル変数に変換 %>

<%# userとbookの中身は@user = User.find(params[:id])と@book = Book.new %>
